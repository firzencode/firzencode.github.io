<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="一期一会">
<meta property="og:type" content="website">
<meta property="og:title" content="firzencode.">
<meta property="og:url" content="http://firzencode.coding.me/index.html">
<meta property="og:site_name" content="firzencode.">
<meta property="og:description" content="一期一会">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="firzencode.">
<meta name="twitter:description" content="一期一会">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://firzencode.coding.me/"/>





  <title> firzencode. </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">firzencode.</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://firzencode.coding.me/2017/08/31/通过ADB命令获取当前activity/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="firzencode">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="firzencode.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/31/通过ADB命令获取当前activity/" itemprop="url">
                  通过ADB命令获取当前activity
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-31T10:40:35+08:00">
                2017-08-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转载，原文链接：<a href="http://blog.csdn.net/youxiansanren/article/details/44220419" target="_blank" rel="external">link</a></p>
<p>自动化测试需要获得当前的activity，来判断处于的页面是否正确；<br><br>hierarchy view经常连不上真机，无法获得activity，所以直接用 adb命令来查看当前运行的 activity就可以；</p>
<h2 id="方法一："><a href="#方法一：" class="headerlink" title="方法一："></a>方法一：</h2><p>1、cmd命令中输入：adb shell 进入shell命令模式</p>
<p>2、shell中输入：logcat | grep ActivityManager   真机运行应用，可以实时 查看当前正在运行的Activity；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">I/ActivityManager(  511): START u0 &#123;act=Android.intent.action.INSERT dat=content</div><div class="line">://com.example.notepad.provider.NotePad/notes cmp=com.example.android.notepad/.N</div><div class="line">oteEditor&#125; from pid 12896</div></pre></td></tr></table></figure></p>
<p>cmp=com.example.android.notepad/.NoteEditor 中， <br><br>com.example.android.notepad 是包名， NoteEditor是当前活动的activity；</p>
<h2 id="方法二："><a href="#方法二：" class="headerlink" title="方法二："></a>方法二：</h2><p>1.cmd命令中输入：adb shell dumpsys activity activities<br>查看<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">  Main stack:</div><div class="line">  * TaskRecord&#123;42c4e888 #11 A com.example.android.notepad U 0&#125;</div><div class="line">    numActivities=2 rootWasReset=true userId=0</div><div class="line">    affinity=com.example.android.notepad</div><div class="line">    intent=&#123;act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER</div><div class="line">] flg=0x10200000 cmp=com.example.android.notepad/.NotesList&#125;</div><div class="line">    realActivity=com.example.android.notepad/.NotesList</div><div class="line">    askedCompatMode=false</div><div class="line">    lastThumbnail=android.graphics.Bitmap@42c89cd8 lastDescription=null</div><div class="line">    lastActiveTime=8685859 (inactive for 113s)</div></pre></td></tr></table></figure></p>
<p> cmp=com.example.android.notepad/.NotesList中，<br>com.example.android.notepad 是包名， NotesList是当前活动的activity；</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://firzencode.coding.me/2017/08/04/DailyGML-variable-func/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="firzencode">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="firzencode.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/04/DailyGML-variable-func/" itemprop="url">
                  DailyGML(8)-variable-func
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-04T12:46:50+08:00">
                2017-08-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GMS2/" itemprop="url" rel="index">
                    <span itemprop="name">GMS2</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本来是照着Reference的顺序，一个接着一个来浏览GML的函数的，但是今天在乱翻文档的过程中，发现GML_Overview这一章，有一个Variable_Functions的部分，发现应该会有作用，于是就中途插进来说一下。</p>
<p>这个系列的方法分为两个部分：global和instance</p>
<ul>
<li>variable_instance_exists</li>
<li>variable_instance_get_names</li>
<li>variable_instance_get</li>
<li>variable_instance_set</li>
<li>variable_global_exists</li>
<li>variable_global_get</li>
<li>variable_global_set</li>
</ul>
<p>global系列用来获取全局变量、设置全局变量</p>
<p>instance系列用来根据instance_id，检查instance中的变量、设置变量、检查变量是否存在、以及获取这个inst中全部变量的名字列表</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://firzencode.coding.me/2017/08/01/DailyGML-http-func/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="firzencode">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="firzencode.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/01/DailyGML-http-func/" itemprop="url">
                  DailyGML(7)-http-func
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-01T12:33:23+08:00">
                2017-08-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GMS2/" itemprop="url" rel="index">
                    <span itemprop="name">GMS2</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>来看看GML内置的HTTP函数。</p>
<h2 id="http-get-url"><a href="#http-get-url" class="headerlink" title="http_get(url);"></a>http_get(url);</h2><p>arg0 - string : Get请求的URL</p>
<p>return - Real : ？</p>
<p>发送这个请求之后，会异步返回AsyncEvent，返回的结果会保存在一个叫做async_load的map里面：</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>http方法的返回值，用来区分多个http请求的</td>
</tr>
<tr>
<td>status</td>
<td>小于0的为错误，0为completed，1为正在接受数据</td>
</tr>
<tr>
<td>result</td>
<td>返回的数据(string)</td>
</tr>
<tr>
<td>url</td>
<td>之前的request url</td>
</tr>
<tr>
<td>http_status</td>
<td>http status response code</td>
</tr>
<tr>
<td>contentLength</td>
<td>如果status为1，则会包含这个，传输数据的总长度</td>
</tr>
<tr>
<td>sizeDownloaded</td>
<td>如果status为1，则会包含这个，已经下载的数据</td>
</tr>
</tbody>
</table>
<p>example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">get = http_get(&quot;http://www.MacSweeneyGames.com/logon?username=&quot; + name);</div><div class="line"></div><div class="line">if ds_map_find_value(async_load, &quot;id&quot;) == get</div><div class="line">&#123;</div><div class="line">   if ds_map_find_value(async_load, &quot;status&quot;) == 0</div><div class="line">    &#123;</div><div class="line">        r_str = ds_map_find_value(async_load, &quot;result&quot;);</div><div class="line">    &#125;</div><div class="line">    else</div><div class="line">    &#123;</div><div class="line">        r_str = &quot;null&quot;;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="http-get-file-url-local-target"><a href="#http-get-file-url-local-target" class="headerlink" title="http_get_file(url, local_target);"></a>http_get_file(url, local_target);</h2><p>这个和之前的http_get几乎一样，唯一不同的就是多了一个本地目录的设置。使用这个api可以从远端下载文件</p>
<p>直接看例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">file = http_get_file(&quot;http://www.macsweeneygames.com/downloads/upgrade.zip&quot;, &quot;\Downloads\Upgrade.zip&quot;);</div><div class="line">// in Async Event</div><div class="line">if ds_map_find_value(async_load, &quot;id&quot;) == file</div><div class="line">   &#123;</div><div class="line">   var status = ds_map_find_value(async_load, &quot;status&quot;);</div><div class="line">   if status == 0</div><div class="line">      &#123;</div><div class="line">      var path = ds_map_find_value(async_load, &quot;result&quot;);</div><div class="line">      var files = zip_unzip(path, &quot;/NewContent/&quot;);</div><div class="line">      if files &gt; 0</div><div class="line">         &#123;</div><div class="line">         global.ExtraContent = true;</div><div class="line">         &#125;</div><div class="line">      &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<h2 id="http-post-string-url-string"><a href="#http-post-string-url-string" class="headerlink" title="http_post_string(url, string);"></a>http_post_string(url, string);</h2><p>这个函数用来发送post请求，和之前的func也没有什么区别，第二个参数里面包含的是post需要发送的数据</p>
<p>看例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">var str = &quot;name=&quot; + global.player_name + &quot;&amp;score=&quot; + string(global.player_score);</div><div class="line">post = http_post_string(&quot;http://www.angusgames.com/game?game_id=&quot; + string(global.game_id), str);</div><div class="line"></div><div class="line">// in async event</div><div class="line">var r_str = &quot;null&quot;;</div><div class="line">if ds_map_find_value(async_load, &quot;id&quot;) == post</div><div class="line">&#123;</div><div class="line">    if ds_map_find_value(async_load, &quot;status&quot;) == 0</div><div class="line">    &#123;</div><div class="line">        r_str = ds_map_find_value(async_load, &quot;result&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="http-request-url-method-header-map-body"><a href="#http-request-url-method-header-map-body" class="headerlink" title="http_request(url, method, header_map, body);"></a>http_request(url, method, header_map, body);</h2><p>用的最多的大概是这个了，可以自由配置。</p>
<p>method：: “GET”, “HEAD”, “POST”, “PUT”, “DELETE”, “TRACE”, “OPTIONS”, or “CONNECT”.</p>
<p>header_map ： 需要自己创建一个ds_map</p>
<p>body：string，可以为空。如果是发文件，则需要buffer的handle</p>
<p>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var map = ds_map_create();</div><div class="line">ds_map_add(map, &quot;Host&quot;, &quot;225.0.0.97:3000&quot;);</div><div class="line">ds_map_add(map, &quot;Connection&quot;, &quot;keep-alive&quot;);</div><div class="line">ds_map_add(map, &quot;Content-Length&quot;, &quot;169&quot;);</div><div class="line">ds_map_add(map, &quot;Cache-Control&quot;, &quot;max-age=0&quot;);</div><div class="line">ds_map_add(map, &quot;Authorization&quot;, &quot;Basic eW95b19hZG1pbjpjNG5lZmllbGQ=&quot;);</div><div class="line">ds_map_add(map, &quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&quot;);</div><div class="line">ds_map_add(map, &quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.57 Safari/537.36&quot;);</div><div class="line">ds_map_add(map, &quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);</div><div class="line">ds_map_add(map, &quot;Accept-Encoding&quot;, &quot;gzip,deflate,sdch&quot;);</div><div class="line">ds_map_add(map, &quot;Accept-Language&quot;, &quot;en-GB,en-US;q=0.8,en;q=0.6&quot;);</div><div class="line">ds_map_add(map, &quot;Cookie&quot;, &quot;request_method=GET; _InAppPurchases_session=69bb6ef6eec2b&quot;);</div><div class="line">var data=&quot;utf8=%E2%9C%93&amp;authenticity_token=kPmS14DcYcuKgMFZUsN3XFfj3mhs%3D&amp;product%5Bname%5D=CatchTheHaggis&amp;product%5Bproduct_id%5D=http_test&amp;commit=Create+Product&quot;;</div><div class="line">request = http_request(&quot;http:225.0.0.97:3000/products&quot;, &quot;POST&quot;, map, data);</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://firzencode.coding.me/2017/07/28/DailyGML-get-xxx-async/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="firzencode">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="firzencode.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/28/DailyGML-get-xxx-async/" itemprop="url">
                  DailyGML(6)-get-xxx-async
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-28T12:38:04+08:00">
                2017-07-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GMS2/" itemprop="url" rel="index">
                    <span itemprop="name">GMS2</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>从这一篇开始，将会将相近的function放在一起看。</p>
<p>get_integer_async(string, default);</p>
<p>弹出一个非阻塞的Dialog，让用户输入一个数据<br><br>arg0 - string : Dialog的提示信息<br><br>arg1 - real : 默认的数据<br><br>return - real : 获得一个async的msg id</p>
<p>这个方法会返回一个id，用这个id在Asynchronous Dialog event里面，来获取到我们实际填写的信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">// call</div><div class="line">msg = get_integer_async(&quot;How old are you?&quot;, 0);</div><div class="line"></div><div class="line">// in event</div><div class="line">var i_d = ds_map_find_value(async_load, &quot;id&quot;);</div><div class="line">if i_d == msg</div><div class="line">   &#123;</div><div class="line">   if ds_map_find_value(async_load, &quot;status&quot;)</div><div class="line">      &#123;</div><div class="line">      global.Age = ds_map_find_value(async_load, &quot;value&quot;);</div><div class="line">      &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p>get_login_async(name, password);</p>
<p>这个和integer是类似的，不过这个方法是用来获取两个string类型的字段，分别来代表用户名和密码。</p>
<p>arg0 - string ； 默认用户名<br><br>arg1 - string ： 默认密码<br><br>return - real ： async的msg id</p>
<p>get_string_async(string, default);</p>
<p>这个和integer也是类似的，不过是获取单个string的数据</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://firzencode.coding.me/2017/07/19/DailyGML-cloud-synchronise/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="firzencode">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="firzencode.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/19/DailyGML-cloud-synchronise/" itemprop="url">
                  DailyGML(5)-cloud-synchronise
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T12:30:25+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GMS2/" itemprop="url" rel="index">
                    <span itemprop="name">GMS2</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>cloud_synchronise</p>
<p>Syntax:<br><br>cloud_synchronise();</p>
<p>Returns:<br><br>Real</p>
<p>Description<br></p>
<p>This function would normally be called at the start of a new game and is used to retrieve the current status of the cloud service at game start up. The function returns a unique id value which would then be used in the Asynchronous Cloud Event to retrieve the relevant information from the ds_map that is created.</p>
<p>This function will send off to the cloud for data, which will then trigger the appropriate asynchronous event. In this event, you can check the returned async_load ds_map for the following values:</p>
<p>“status”: This holds the status code, where a negative value denotes an error, a description of which will be contained in the “errorString”. A value of 0 (or a positive value) indicates a success(see below for exact values), and the “resultString” will contain the returned data or a success message.</p>
<p>“id”: The id which was returned from the called function. If you fire off a series of cloud_ requests then you need to know which one you are getting the reply to, and so you would use this value to compare to the value you stored when you originally sent the request to find the right one.</p>
<p>“description”: The description of the last uploaded file.</p>
<p>“resultString”: This holds a string which is the data blob returned from the cloud.</p>
<p>“errorString”: returns an Error String for any error.</p>
<p>The exact meaning of the returned “status” map entry is explained in the following table:</p>
<table>
<thead>
<tr>
<th>Status Value</th>
<th>errorString / resultString</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>-1</td>
<td>errorString = “Not logged in to <service>“</service></td>
<td>You have not successfully logged in to the given Cloud Service</td>
</tr>
<tr>
<td>0</td>
<td>resultString = recovered data</td>
<td>New game data downloaded from the cloud (following a cloud_synchronise call)</td>
</tr>
<tr>
<td>1</td>
<td>resultString = “AlreadySynchronized”</td>
<td>No new data since you last called cloud_synchronise</td>
</tr>
<tr>
<td>2</td>
<td>resultString = “ConflictDeferral”</td>
<td>A conflict was encountered, but the gamer chose to ignore it</td>
</tr>
<tr>
<td>3</td>
<td>resultString = “GameUploadSuccess”</td>
<td>data from cloud_string_save or cloud_file_save was successfully uploaded to the cloud</td>
</tr>
<tr>
<td>-n</td>
<td>errorString = Description of error</td>
<td>Any other negative number means a synchronisation failure</td>
</tr>
</tbody>
</table>
<p>Extended Example:<br>This function would be called in an event like the Game Start Event or in an object that is placed in the first room of your game, with the idea being that you check the current data blob from the cloud server to see if it is up to date or not.</p>
<p>cloud_check = cloud_synchronise();</p>
<p>You would then want to check the returned ds_map in the asynchronous Cloud Event to get the status and the returned string, if there is one, with something like the following code:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">if ds_map_find_value(async_load, &quot;id&quot;) == cloud_check</div><div class="line">   &#123;</div><div class="line">   if ds_map_find_value(async_load, &quot;status&quot;) &lt; 0</div><div class="line">      &#123;</div><div class="line">      show_message_async(&quot;Cloud Services not available. Please check connectivity.&quot;);</div><div class="line">      &#125;</div><div class="line">   else</div><div class="line">      &#123;</div><div class="line">      if ds_map_find_value(async_load, &quot;status&quot;) == 0</div><div class="line">         &#123;</div><div class="line">         var file = file_text_open_write(&quot;Save.txt&quot;);</div><div class="line">         file_text_write_string(file, ds_map_find_value(async_load, &quot;resultString&quot;));</div><div class="line">         file_text_close(file);</div><div class="line">         &#125;</div><div class="line">      &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p>The above code checks to make sure that the correct asynchronous function call is being revised, then goes on to get the status of the returned cloud ds_map. if the status is a negative number, something has gone wrong and the user is informed, otherwise the code will continue and retrieve the synchronised data and write it to a text file for later use.</p>
<hr>
<p>Cloud系列的函数，在启动的一开始调用这个函数，然后拿到一个cloud_check的id，之后在Asynchronous Cloud Event中的map里的id字段，通过这个cloud_check来判断是不是我们的synchronise返回的结果。</p>
<p>之后就根据上面的status value，来判断同步的结果。</p>
<p>（大概之后会写个demo）</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://firzencode.coding.me/2017/07/18/DailyGML-cloud-string-save/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="firzencode">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="firzencode.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/18/DailyGML-cloud-string-save/" itemprop="url">
                  DailyGML(4)-cloud-string-save
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-18T12:36:04+08:00">
                2017-07-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GMS2/" itemprop="url" rel="index">
                    <span itemprop="name">GMS2</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>cloud_string_save</p>
<p>Syntax:<br><br>cloud_string_save(string, description);</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>string</td>
<td>The data string to be uploaded.</td>
</tr>
</tbody>
</table>
<p>description<br><br>A brief description of the data being stored.</p>
<p>Returns:<br><br>Real</p>
<p>Description<br><br>This function will commit a string to the chosen cloud service for storage. The function will return a unique id value that should then be used in the appropriate asynchronous event to identify the ds_map that is returned as a “call back” from the cloud service. The string should contain all the information that you need to save for your game as you can only store one single “data blob” to the cloud, and running this function again will overwrite any previously stored values (as will using the cloud_file_save function). The description should be a short string of information that describes the save, eg: “Level2, Stage2”.<br>For further information on the returned asynchronous data, please see the function cloud_synchronise.</p>
<p>Example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var t_str = &quot;&quot;;</div><div class="line">for (var i = 0; i &lt; 10; i++;)</div><div class="line">   &#123;</div><div class="line">   t_str += string(global.Highscore[i]) + &quot;|&quot;</div><div class="line">   &#125;</div><div class="line">save_check = cloud_string_save(t_str, &quot;Current Highscores&quot;);</div><div class="line">var file = file_text_open_write(&quot;Highscores.txt&quot;);</div><div class="line">file_text_write_string(file, t_str);</div><div class="line">file_text_close(file);</div></pre></td></tr></table></figure></p>
<p>The above code creates a string from the values stored in the global array “Highscores” and then writes this string to the cloud service for storage, as well as writing it to a file for local storage.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://firzencode.coding.me/2017/07/18/RecyclerView和ViewPager在一起使用时的自动滚动的问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="firzencode">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="firzencode.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/18/RecyclerView和ViewPager在一起使用时的自动滚动的问题/" itemprop="url">
                  RecyclerView和ViewPager在一起使用时的自动滚动的问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-18T09:46:29+08:00">
                2017-07-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考：<a href="https://stackoverflow.com/questions/37782485/android-prevent-nested-recyclerview-from-automatically-repositioning" target="_blank" rel="external">https://stackoverflow.com/questions/37782485/android-prevent-nested-recyclerview-from-automatically-repositioning</a></p>
<p>在ViewPager里面嵌套了RecyclerView，但是当我们滑动到这个Tab页的时候，这个分页自动上下滑动，来保证了recyclerView可以显示完全。</p>
<p>然而我并不想要这个特性，如何关掉？</p>
<p>根据面向stackoverflow编程的方法，在包含这个recyclerView的ParentView里面，添加了一行xml定义，来解决这个问题<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">android:descendantFocusability="blocksDescendants"</div></pre></td></tr></table></figure></p>
<p>以上</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://firzencode.coding.me/2017/07/14/DailyGML-cloud-file-save/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="firzencode">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="firzencode.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/14/DailyGML-cloud-file-save/" itemprop="url">
                  每天一个GML函数（3）- cloud_file_save
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-14T12:32:35+08:00">
                2017-07-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GMS2/" itemprop="url" rel="index">
                    <span itemprop="name">GMS2</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Syntax:<br><br>cloud_file_save(file, description);</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>string</td>
<td>The file to be uploaded (as a string).</td>
</tr>
<tr>
<td>description</td>
<td>A brief description of the data being stored.</td>
</tr>
</tbody>
</table>
<p>Returns:<br><br>Real</p>
<p>Description<br><br>This function will commit a file to the chosen cloud service for storage. The function will return a unique id value that should then be used in the appropriate asynchronous event to identify the <code>ds_map</code> that is returned as a “call back” from the cloud service. The file should contain all the information that you need to save for your game as you can only store one single “data blob” to the cloud, and running this function again will overwrite any previously stored values (as will using the <code>cloud_string_save</code> function). The description should be a short string of information that describes the save, eg: “Level2, Stage2”.<br>For further information on the returned asynchronous data, please see the function cloud_synchronise.</p>
<p>Example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var t_str = &quot;&quot;;</div><div class="line">for (var i = 0; i &lt; 10; i++;)</div><div class="line">   &#123;</div><div class="line">   t_str += string(global.Highscore[i]) + &quot;|&quot;</div><div class="line">   &#125;</div><div class="line">var file = file_text_open_write(&quot;Highscores.txt&quot;);</div><div class="line">file_text_write_string(file, t_str);</div><div class="line">file_text_close(file);</div><div class="line">save_check = cloud_file_save(&quot;Highscores.txt&quot;, &quot;Current Highscores&quot;);</div></pre></td></tr></table></figure></p>
<p>The above code creates a string from the values stored in the global array “Highscores” and then writes this string to a file for local storage. The file is then sent to the cloud service for storage.</p>
<hr>
<p>向云端储存文件的一个函数，但是这个云端到底是在哪里，并不是很清楚…需要研究一下<br></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://firzencode.coding.me/2017/07/12/DailyGML-asset-get-type/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="firzencode">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="firzencode.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/12/DailyGML-asset-get-type/" itemprop="url">
                  每天一个GML函数（2）- asset_get_type
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-12T12:06:47+08:00">
                2017-07-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GMS2/" itemprop="url" rel="index">
                    <span itemprop="name">GMS2</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>asset_get_type</p>
<p>Description<br><br>With this function you can get the type of asset being referenced from its name (a string). One of the constants listed below will be returned.</p>
<p>Syntax:<br><br>asset_get_type(name);<br></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the game asset to get the type of (a string).</td>
</tr>
</tbody>
</table>
<p>Returns:<br><br>Constant<br></p>
<table>
<thead>
<tr>
<th>Constant</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>asset_object</td>
<td>The given name refers to an object.</td>
</tr>
<tr>
<td>asset_sprite</td>
<td>The given name refers to a sprite.</td>
</tr>
<tr>
<td>asset_sound</td>
<td>The given name refers to a sound.</td>
</tr>
<tr>
<td>asset_room</td>
<td>The given name refers to a room.</td>
</tr>
<tr>
<td>asset_tile</td>
<td>The given name refers to a tile set.</td>
</tr>
<tr>
<td>asset_path</td>
<td>The given name refers to a path.</td>
</tr>
<tr>
<td>asset_script</td>
<td>The given name refers to a script.</td>
</tr>
<tr>
<td>asset_font</td>
<td>The given name refers to a font.</td>
</tr>
<tr>
<td>asset_timeline</td>
<td>The given name refers to a time line.</td>
</tr>
<tr>
<td>asset_shader</td>
<td>The given name refers to a shader.</td>
</tr>
<tr>
<td>asset_unknown</td>
<td>The given name refers to an asset that either does not exist, or is not one of the above listed.</td>
</tr>
</tbody>
</table>
<p>Example:<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">if asset_get_type(&quot;pth_Path_&quot; + string(global.Game)) == asset_unknown</div><div class="line">   &#123;</div><div class="line">   show_debug_message(&quot;Path doesn&apos;t exist!!!&quot;);</div><div class="line">   &#125;</div><div class="line">else</div><div class="line">   &#123;</div><div class="line">   path_index = asset_get_index(&quot;pth_Path_&quot; + string(global.Game));</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p>The above code checks a dynamically created asset name to see if the asset is of the correct type. If it is not, then a debug message will be shown, otherwise the asset name is used to assign the asset to the instance.</p>
<hr>
<p>这个函数是根据asset的名字，来获取它的类别，返回的类型为系统提供的常量，简单易懂。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://firzencode.coding.me/2017/07/07/DailyGML-asset-get-index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="firzencode">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="firzencode.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/07/DailyGML-asset-get-index/" itemprop="url">
                  每天一个GML函数（1）- asset_get_index
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-07T09:32:44+08:00">
                2017-07-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/GMS2/" itemprop="url" rel="index">
                    <span itemprop="name">GMS2</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Syntax: asset_get_index(name);<br></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the game asset to get the index of (a string).</td>
</tr>
</tbody>
</table>
<p>Returns:<br><br>Real</p>
<p>Description<br><br>You can use this function to get the unique identifying index for a game asset from its name. If the asset is not found, the function will return a value of -1, otherwise it will return the unique index id for the asset being checked. This id can then be used in other functions as you would any other index value, like the sprite_index or the path_index, for example. Please note that although this function can be used to reference assets from strings (see example below) you should always make sure that the asset exists before using it otherwise you may get errors that will crash your game.<br>NOTE: Script names will not resolve as assets on the HTML5 target platform due to obfuscation of the final code, which may cause issues and should be taken into consideration when using the function.</p>
<p>Example:<br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var obj = asset_get_index(&quot;obj_Enemy_&quot; + string(global.Level));</div><div class="line">if obj &gt; -1</div><div class="line">&#123;</div><div class="line">    instance_create_layer(random(room_width), random(room_height), obj, &quot;Enemy_Layer&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>The above code will get an object index from a string, and if that index exists, create an instance of the object in the game.</p>
<hr>
<p>在GML里面，实际上我们可以直接通过资源的名字，来访问实际资源。比如我们有一个<code>obj_Enemy</code>对象，那么我们在代码中的<code>obj_Enemy</code>，实际上就直接转换成了具体的资源ID。<br><br>那这个函数到底有啥用呢？其实就和文档中example所写的一样，如果你需要动态的获取一些资源的ID，那么这个函数就是你最好的选择。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="firzencode" />
          <p class="site-author-name" itemprop="name">firzencode</p>
           
              <p class="site-description motion-element" itemprop="description">一期一会</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/firzencode" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">firzencode</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

</body>
</html>
