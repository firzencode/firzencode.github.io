<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Ahayoo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Game / Coding / Design / Life">
<meta property="og:type" content="website">
<meta property="og:title" content="Ahayoo">
<meta property="og:url" content="https://www.ahayoo.com/page/2/index.html">
<meta property="og:site_name" content="Ahayoo">
<meta property="og:description" content="Game / Coding / Design / Life">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ahayoo">
<meta name="twitter:description" content="Game / Coding / Design / Life">
  
    <link rel="alternate" href="/atom.xml" title="Ahayoo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Ahayoo</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Aha your soul</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Zoeken"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://www.ahayoo.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-RecyclerView和ViewPager在一起使用时的自动滚动的问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/18/RecyclerView和ViewPager在一起使用时的自动滚动的问题/" class="article-date">
  <time datetime="2017-07-18T01:46:29.000Z" itemprop="datePublished">2017-07-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/18/RecyclerView和ViewPager在一起使用时的自动滚动的问题/">RecyclerView和ViewPager在一起使用时的自动滚动的问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>参考：<a href="https://stackoverflow.com/questions/37782485/android-prevent-nested-recyclerview-from-automatically-repositioning" target="_blank" rel="external">https://stackoverflow.com/questions/37782485/android-prevent-nested-recyclerview-from-automatically-repositioning</a></p>
<p>在ViewPager里面嵌套了RecyclerView，但是当我们滑动到这个Tab页的时候，这个分页自动上下滑动，来保证了recyclerView可以显示完全。</p>
<p>然而我并不想要这个特性，如何关掉？</p>
<p>根据面向stackoverflow编程的方法，在包含这个recyclerView的ParentView里面，添加了一行xml定义，来解决这个问题<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">android:descendantFocusability="blocksDescendants"</div></pre></td></tr></table></figure></p>
<p>以上</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/18/RecyclerView和ViewPager在一起使用时的自动滚动的问题/" data-id="cjrkeh75w000k0od5ubhev1bs" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DailyGML-cloud-file-save" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/14/DailyGML-cloud-file-save/" class="article-date">
  <time datetime="2017-07-14T04:32:35.000Z" itemprop="datePublished">2017-07-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/14/DailyGML-cloud-file-save/">每天一个GML函数（3）- cloud_file_save</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Syntax:<br><br>cloud_file_save(file, description);</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>string</td>
<td>The file to be uploaded (as a string).</td>
</tr>
<tr>
<td>description</td>
<td>A brief description of the data being stored.</td>
</tr>
</tbody>
</table>
<p>Returns:<br><br>Real</p>
<p>Description<br><br>This function will commit a file to the chosen cloud service for storage. The function will return a unique id value that should then be used in the appropriate asynchronous event to identify the <code>ds_map</code> that is returned as a “call back” from the cloud service. The file should contain all the information that you need to save for your game as you can only store one single “data blob” to the cloud, and running this function again will overwrite any previously stored values (as will using the <code>cloud_string_save</code> function). The description should be a short string of information that describes the save, eg: “Level2, Stage2”.<br>For further information on the returned asynchronous data, please see the function cloud_synchronise.</p>
<p>Example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var t_str = &quot;&quot;;</div><div class="line">for (var i = 0; i &lt; 10; i++;)</div><div class="line">   &#123;</div><div class="line">   t_str += string(global.Highscore[i]) + &quot;|&quot;</div><div class="line">   &#125;</div><div class="line">var file = file_text_open_write(&quot;Highscores.txt&quot;);</div><div class="line">file_text_write_string(file, t_str);</div><div class="line">file_text_close(file);</div><div class="line">save_check = cloud_file_save(&quot;Highscores.txt&quot;, &quot;Current Highscores&quot;);</div></pre></td></tr></table></figure></p>
<p>The above code creates a string from the values stored in the global array “Highscores” and then writes this string to a file for local storage. The file is then sent to the cloud service for storage.</p>
<hr>
<p>向云端储存文件的一个函数，但是这个云端到底是在哪里，并不是很清楚…需要研究一下<br></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/14/DailyGML-cloud-file-save/" data-id="cjrkeh75u000i0od5f33dbkzm" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DailyGML-asset-get-type" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/12/DailyGML-asset-get-type/" class="article-date">
  <time datetime="2017-07-12T04:06:47.000Z" itemprop="datePublished">2017-07-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/12/DailyGML-asset-get-type/">每天一个GML函数（2）- asset_get_type</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>asset_get_type</p>
<p>Description<br><br>With this function you can get the type of asset being referenced from its name (a string). One of the constants listed below will be returned.</p>
<p>Syntax:<br><br>asset_get_type(name);<br></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the game asset to get the type of (a string).</td>
</tr>
</tbody>
</table>
<p>Returns:<br><br>Constant<br></p>
<table>
<thead>
<tr>
<th>Constant</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>asset_object</td>
<td>The given name refers to an object.</td>
</tr>
<tr>
<td>asset_sprite</td>
<td>The given name refers to a sprite.</td>
</tr>
<tr>
<td>asset_sound</td>
<td>The given name refers to a sound.</td>
</tr>
<tr>
<td>asset_room</td>
<td>The given name refers to a room.</td>
</tr>
<tr>
<td>asset_tile</td>
<td>The given name refers to a tile set.</td>
</tr>
<tr>
<td>asset_path</td>
<td>The given name refers to a path.</td>
</tr>
<tr>
<td>asset_script</td>
<td>The given name refers to a script.</td>
</tr>
<tr>
<td>asset_font</td>
<td>The given name refers to a font.</td>
</tr>
<tr>
<td>asset_timeline</td>
<td>The given name refers to a time line.</td>
</tr>
<tr>
<td>asset_shader</td>
<td>The given name refers to a shader.</td>
</tr>
<tr>
<td>asset_unknown</td>
<td>The given name refers to an asset that either does not exist, or is not one of the above listed.</td>
</tr>
</tbody>
</table>
<p>Example:<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">if asset_get_type(&quot;pth_Path_&quot; + string(global.Game)) == asset_unknown</div><div class="line">   &#123;</div><div class="line">   show_debug_message(&quot;Path doesn&apos;t exist!!!&quot;);</div><div class="line">   &#125;</div><div class="line">else</div><div class="line">   &#123;</div><div class="line">   path_index = asset_get_index(&quot;pth_Path_&quot; + string(global.Game));</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p>The above code checks a dynamically created asset name to see if the asset is of the correct type. If it is not, then a debug message will be shown, otherwise the asset name is used to assign the asset to the instance.</p>
<hr>
<p>这个函数是根据asset的名字，来获取它的类别，返回的类型为系统提供的常量，简单易懂。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/12/DailyGML-asset-get-type/" data-id="cjrkeh75s000f0od5e9lnzy17" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DailyGML-asset-get-index" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/07/DailyGML-asset-get-index/" class="article-date">
  <time datetime="2017-07-07T01:32:44.000Z" itemprop="datePublished">2017-07-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/07/DailyGML-asset-get-index/">每天一个GML函数（1）- asset_get_index</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Syntax: asset_get_index(name);<br></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the game asset to get the index of (a string).</td>
</tr>
</tbody>
</table>
<p>Returns:<br><br>Real</p>
<p>Description<br><br>You can use this function to get the unique identifying index for a game asset from its name. If the asset is not found, the function will return a value of -1, otherwise it will return the unique index id for the asset being checked. This id can then be used in other functions as you would any other index value, like the sprite_index or the path_index, for example. Please note that although this function can be used to reference assets from strings (see example below) you should always make sure that the asset exists before using it otherwise you may get errors that will crash your game.<br>NOTE: Script names will not resolve as assets on the HTML5 target platform due to obfuscation of the final code, which may cause issues and should be taken into consideration when using the function.</p>
<p>Example:<br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var obj = asset_get_index(&quot;obj_Enemy_&quot; + string(global.Level));</div><div class="line">if obj &gt; -1</div><div class="line">&#123;</div><div class="line">    instance_create_layer(random(room_width), random(room_height), obj, &quot;Enemy_Layer&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>The above code will get an object index from a string, and if that index exists, create an instance of the object in the game.</p>
<hr>
<p>在GML里面，实际上我们可以直接通过资源的名字，来访问实际资源。比如我们有一个<code>obj_Enemy</code>对象，那么我们在代码中的<code>obj_Enemy</code>，实际上就直接转换成了具体的资源ID。<br><br>那这个函数到底有啥用呢？其实就和文档中example所写的一样，如果你需要动态的获取一些资源的ID，那么这个函数就是你最好的选择。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/07/DailyGML-asset-get-index/" data-id="cjrkeh75q000d0od5tylqelt8" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-GML颜色" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/03/GML颜色/" class="article-date">
  <time datetime="2017-07-03T05:28:10.000Z" itemprop="datePublished">2017-07-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/03/GML颜色/">GML颜色</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>颜色值的常量，除了使用c_white之类的常量之外，如果想要使用16进制的颜色值，只要使用$66ccff这样的就可以了，在数字前面添加一个dollar的符号。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/03/GML颜色/" data-id="cjrkeh75o000a0od5bqtsgiw8" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-git问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/02/git问题/" class="article-date">
  <time datetime="2017-07-02T12:07:42.000Z" itemprop="datePublished">2017-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/02/git问题/">git 遇到fatal:multiple stage entries for merged file处理办法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>转载，最近碰到好几次这个问题了，记录一下</p>
<hr>
<p>原文：<a href="http://www.hawk007.com/index/index.php?s=/Home/Article/detail/id/62.html" target="_blank" rel="external">http://www.hawk007.com/index/index.php?s=/Home/Article/detail/id/62.html</a></p>
<p>提交代码到gitHub 的时候遇到“fatal:multiple stage entries for merged file” 提示，git status或者git add . 都无济于事。</p>
<p>fatal: multiple stage entries for merged file ‘filePath/~~~’</p>
<p>最后解决办法：[记得先备份一下]<br>rm .git/index</p>
<p>git add -A<br>git commit</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/02/git问题/" data-id="cjrkeh75l00080od51piu1irf" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-GMS2碰撞检查" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/25/GMS2碰撞检查/" class="article-date">
  <time datetime="2017-05-25T12:11:46.000Z" itemprop="datePublished">2017-05-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/25/GMS2碰撞检查/">GMS2碰撞检查</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>浏览了一下GML Reference 中碰撞检查这个章节的内容，整个碰撞检测的方法分为四个部分</p>
<ul>
<li>简单碰撞检查</li>
<li>高级碰撞检查</li>
<li>不包含蒙层（Mask）的碰撞检测</li>
<li>物理碰撞<br>我们一个部分一个部分的来看相关的内容。</li>
</ul>
<h2 id="简单碰撞检查"><a href="#简单碰撞检查" class="headerlink" title="简单碰撞检查"></a>简单碰撞检查</h2><h3 id="place系列"><a href="#place系列" class="headerlink" title="place系列"></a>place系列</h3><p>place_empty(x, y);<br>检查当前的inst，如果放到x,y的位置，是否会和其他的物体碰撞<br>返回boolean</p>
<p>place_free(x, y)<br>检查当前的inst，如果放到x,y的位置，是否会和其他标记为solid的物体碰撞<br>solid标记在object editor里面设置<br>会使得这个物体的碰撞会优先于代码执行（？）<br>返回boolean</p>
<p>place_meeting(x, y, object)<br>检查当前的inst，在指定位置是否和某个inst或者某种object碰撞<br>object接受all或者other参数<br>返回boolean</p>
<h3 id="position系列"><a href="#position系列" class="headerlink" title="position系列"></a>position系列</h3><p>position_empty(x, y)<br>检查xy位置是否有inst<br>返回boolean</p>
<p>position_meeting(x, y，obj)<br>检查x,y位置是否有某个inst或者某种object的碰撞<br>object接受all或者other参数<br>返回boolean</p>
<p>position_change(x, y, obj, perf)<br>检查x,y位置是否有物体，如果有物体，会在他们的位置上创建新的obj类型的物体，同时将会原来的销毁<br>如果perf为false，那么不执行相应的Destroy，CleanUp和Create（TODO，这个要测试一下）<br>没有返回值</p>
<p>position_destroy(x, y)<br>检查x,y位置是否有物体，如果有的话，会被销毁<br>没有返回值</p>
<h3 id="instance-系列"><a href="#instance-系列" class="headerlink" title="instance 系列"></a>instance 系列</h3><p>instance_place(x, y, obj)<br>检查当前inst放置到x,y位置，当前的inst是否和指定inst相撞或者某种obj相撞<br>会返回相撞的inst的id（1个）<br>obj参数接受all和other<br>这个和place_meeting几乎一样，只不过会返回被碰撞的id</p>
<p>instance_position(x, y, obj)<br>检查x,y位置，当前inst是否和指定的inst或者某种obj相撞，返回inst的id<br>obj参数接受all和other<br>这个和上面一个不同，是检查position，而不是将inst放过去检查collision mask</p>
<p>（未完）</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/05/25/GMS2碰撞检查/" data-id="cjrkeh75j00060od59vwdosaw" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-PathPattern的问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/17/PathPattern的问题/" class="article-date">
  <time datetime="2017-05-17T12:09:11.000Z" itemprop="datePublished">2017-05-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/17/PathPattern的问题/">IntentFilter PathPattern的问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>实际上这个PathPattern是所谓的PATTERN_SIMPLE_GLOB<br>只接受*和.这两种正则表达符号<br>所以想用\w或者断言什么的就没戏了<br>只能靠URL本身的模式来区分了。<br>相关链接：<br><a href="https://developer.android.com/reference/android/os/PatternMatcher.html#PATTERN_SIMPLE_GLOB" target="_blank" rel="external">https://developer.android.com/reference/android/os/PatternMatcher.html#PATTERN_SIMPLE_GLOB</a><br><a href="http://www.jianshu.com/p/862885bd8ea2" target="_blank" rel="external">http://www.jianshu.com/p/862885bd8ea2</a><br><a href="https://developer.android.com/training/app-links/index.html" target="_blank" rel="external">https://developer.android.com/training/app-links/index.html</a></p>
<p>以上。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/05/17/PathPattern的问题/" data-id="cjrkeh75800020od5klgy4h1r" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java初始化静态Map常量" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/28/Java初始化静态Map常量/" class="article-date">
  <time datetime="2017-01-28T09:13:30.000Z" itemprop="datePublished">2017-01-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/28/Java初始化静态Map常量/">Java初始化静态Map常量</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>转载自<a href="http://dengminhui.iteye.com/blog/483530" target="_blank" rel="external">这里</a><br>这种做法还是挺实用的</p>
<hr>
<p>常用的声明方式（使用静态代码块）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> Map map = <span class="keyword">new</span> HashMap();  </div><div class="line"><span class="keyword">static</span> &#123;  </div><div class="line">    map.put(<span class="string">"key1"</span>, <span class="string">"value1"</span>);  </div><div class="line">    map.put(<span class="string">"key2"</span>, <span class="string">"value2"</span>);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>一种简约的方式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> Map map = <span class="keyword">new</span> HashMap() &#123;&#123;    </div><div class="line">    put(<span class="string">"key1"</span>, <span class="string">"value1"</span>);    </div><div class="line">    put(<span class="string">"key2"</span>, <span class="string">"value2"</span>);    </div><div class="line">&#125;&#125;;</div></pre></td></tr></table></figure>
<p>这种方式，相当于重载HashMap的一个匿名实现。向原有的HashMap中添加了一个匿名构造方法。</p>
<p>另外附加一个List/Set变量的声明方式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> List list = Arrays.asList(<span class="string">"element1"</span>, <span class="string">"element2"</span>);</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/01/28/Java初始化静态Map常量/" data-id="cjrkeh75200000od56qvikzjq" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-AlertDialog的尺寸问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/28/AlertDialog的尺寸问题/" class="article-date">
  <time datetime="2017-01-28T08:57:59.000Z" itemprop="datePublished">2017-01-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/28/AlertDialog的尺寸问题/">AlertDialog的尺寸问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>如何设置一个AlertDialog的尺寸？</p>
<p>很容易就可以查到，有这么一个做法:<br><a href="http://stackoverflow.com/a/6922903" target="_blank" rel="external">How to control the width and height of the default Alert Dialog in Android?</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">AlertDialog.Builder builder = <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>);</div><div class="line">builder.setView(layout);</div><div class="line">builder.setTitle(<span class="string">"Title"</span>);</div><div class="line">alertDialog = builder.create();</div><div class="line">alertDialog.show();</div><div class="line">alertDialog.getWindow().setLayout(<span class="number">600</span>, <span class="number">400</span>); <span class="comment">//Controlling width and height.</span></div></pre></td></tr></table></figure>
<p>注意：setLayout是在show()之后执行的。</p>
<p>然而，眉头一皱，发现事情并没有这么简单。<br>按照这种方法显示出来的dialog，测量一下宽高之后，发现dialog的宽高比我们设置的要小一点点，而不是精确的相等。</p>
<p>进行了好长时间的排查，最后确定，是alertDialog本身最大的View里面带上了padding，这个是由默认的style带过来的。<br>当时没有找到在哪里设置这个padding，于是使用了一种折衷的方式来使得dialog和我们要求的size相等。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> AlertDialog alertDialog = builder.setView(R.layout.dialog).create();</div><div class="line">alertDialog.show();</div><div class="line"></div><div class="line">View decorView = alertDialog.getWindow().getDecorView();</div><div class="line"><span class="keyword">int</span> paddingTop = decorView.getPaddingTop();</div><div class="line"><span class="keyword">int</span> paddingBottom = decorView.getPaddingBottom();</div><div class="line"><span class="keyword">int</span> paddingLeft = decorView.getPaddingLeft();</div><div class="line"><span class="keyword">int</span> paddingRight = decorView.getPaddingRight();</div><div class="line"></div><div class="line"><span class="keyword">int</span> width = <span class="number">600</span> + paddingLeft + paddingRight;</div><div class="line"><span class="keyword">int</span> height = <span class="number">400</span> + paddingTop + paddingBottom;</div><div class="line">alertDialog.getWindow().setLayout(width, height);</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/01/28/AlertDialog的尺寸问题/" data-id="cjrkeh75d00040od5v49wk7q2" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categorieën</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/GMS2/">GMS2</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archieven</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recente berichten</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/02/22/CertificatePinner与Charles抓包的问题/">证书固定、CertificatePinner与Charles抓包的问题</a>
          </li>
        
          <li>
            <a href="/2018/02/13/GML迷之问题/">GML迷之问题</a>
          </li>
        
          <li>
            <a href="/2018/01/08/LiveData和ViewModel/">Android架构组件（二）——ViewModel和LiveData</a>
          </li>
        
          <li>
            <a href="/2017/11/27/初探RoomPersistenceLibrary/">Android架构组件——初探Room Persistence Library</a>
          </li>
        
          <li>
            <a href="/2017/08/31/通过ADB命令获取当前activity/">通过ADB命令获取当前activity</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 firzencode<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>