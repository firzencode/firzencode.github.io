<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Ahayoo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Game / Coding / Design / Life">
<meta property="og:type" content="website">
<meta property="og:title" content="Ahayoo">
<meta property="og:url" content="https://www.ahayoo.com/page/2/index.html">
<meta property="og:site_name" content="Ahayoo">
<meta property="og:description" content="Game / Coding / Design / Life">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ahayoo">
<meta name="twitter:description" content="Game / Coding / Design / Life">
  
    <link rel="alternate" href="/atom.xml" title="Ahayoo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Ahayoo</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Aha your soul</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://www.ahayoo.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-DailyGML-http-func" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/01/DailyGML-http-func/" class="article-date">
  <time datetime="2017-08-01T04:33:23.000Z" itemprop="datePublished">2017-08-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/01/DailyGML-http-func/">DailyGML(7)-http-func</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>来看看GML内置的HTTP函数。</p>
<h2 id="http-get-url"><a href="#http-get-url" class="headerlink" title="http_get(url);"></a>http_get(url);</h2><p>arg0 - string : Get请求的URL</p>
<p>return - Real : ？</p>
<p>发送这个请求之后，会异步返回AsyncEvent，返回的结果会保存在一个叫做async_load的map里面：</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>http方法的返回值，用来区分多个http请求的</td>
</tr>
<tr>
<td>status</td>
<td>小于0的为错误，0为completed，1为正在接受数据</td>
</tr>
<tr>
<td>result</td>
<td>返回的数据(string)</td>
</tr>
<tr>
<td>url</td>
<td>之前的request url</td>
</tr>
<tr>
<td>http_status</td>
<td>http status response code</td>
</tr>
<tr>
<td>contentLength</td>
<td>如果status为1，则会包含这个，传输数据的总长度</td>
</tr>
<tr>
<td>sizeDownloaded</td>
<td>如果status为1，则会包含这个，已经下载的数据</td>
</tr>
</tbody>
</table>
<p>example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">get = http_get(&quot;http://www.MacSweeneyGames.com/logon?username=&quot; + name);</div><div class="line"></div><div class="line">if ds_map_find_value(async_load, &quot;id&quot;) == get</div><div class="line">&#123;</div><div class="line">   if ds_map_find_value(async_load, &quot;status&quot;) == 0</div><div class="line">    &#123;</div><div class="line">        r_str = ds_map_find_value(async_load, &quot;result&quot;);</div><div class="line">    &#125;</div><div class="line">    else</div><div class="line">    &#123;</div><div class="line">        r_str = &quot;null&quot;;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="http-get-file-url-local-target"><a href="#http-get-file-url-local-target" class="headerlink" title="http_get_file(url, local_target);"></a>http_get_file(url, local_target);</h2><p>这个和之前的http_get几乎一样，唯一不同的就是多了一个本地目录的设置。使用这个api可以从远端下载文件</p>
<p>直接看例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">file = http_get_file(&quot;http://www.macsweeneygames.com/downloads/upgrade.zip&quot;, &quot;\Downloads\Upgrade.zip&quot;);</div><div class="line">// in Async Event</div><div class="line">if ds_map_find_value(async_load, &quot;id&quot;) == file</div><div class="line">   &#123;</div><div class="line">   var status = ds_map_find_value(async_load, &quot;status&quot;);</div><div class="line">   if status == 0</div><div class="line">      &#123;</div><div class="line">      var path = ds_map_find_value(async_load, &quot;result&quot;);</div><div class="line">      var files = zip_unzip(path, &quot;/NewContent/&quot;);</div><div class="line">      if files &gt; 0</div><div class="line">         &#123;</div><div class="line">         global.ExtraContent = true;</div><div class="line">         &#125;</div><div class="line">      &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<h2 id="http-post-string-url-string"><a href="#http-post-string-url-string" class="headerlink" title="http_post_string(url, string);"></a>http_post_string(url, string);</h2><p>这个函数用来发送post请求，和之前的func也没有什么区别，第二个参数里面包含的是post需要发送的数据</p>
<p>看例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">var str = &quot;name=&quot; + global.player_name + &quot;&amp;score=&quot; + string(global.player_score);</div><div class="line">post = http_post_string(&quot;http://www.angusgames.com/game?game_id=&quot; + string(global.game_id), str);</div><div class="line"></div><div class="line">// in async event</div><div class="line">var r_str = &quot;null&quot;;</div><div class="line">if ds_map_find_value(async_load, &quot;id&quot;) == post</div><div class="line">&#123;</div><div class="line">    if ds_map_find_value(async_load, &quot;status&quot;) == 0</div><div class="line">    &#123;</div><div class="line">        r_str = ds_map_find_value(async_load, &quot;result&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="http-request-url-method-header-map-body"><a href="#http-request-url-method-header-map-body" class="headerlink" title="http_request(url, method, header_map, body);"></a>http_request(url, method, header_map, body);</h2><p>用的最多的大概是这个了，可以自由配置。</p>
<p>method：: “GET”, “HEAD”, “POST”, “PUT”, “DELETE”, “TRACE”, “OPTIONS”, or “CONNECT”.</p>
<p>header_map ： 需要自己创建一个ds_map</p>
<p>body：string，可以为空。如果是发文件，则需要buffer的handle</p>
<p>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var map = ds_map_create();</div><div class="line">ds_map_add(map, &quot;Host&quot;, &quot;225.0.0.97:3000&quot;);</div><div class="line">ds_map_add(map, &quot;Connection&quot;, &quot;keep-alive&quot;);</div><div class="line">ds_map_add(map, &quot;Content-Length&quot;, &quot;169&quot;);</div><div class="line">ds_map_add(map, &quot;Cache-Control&quot;, &quot;max-age=0&quot;);</div><div class="line">ds_map_add(map, &quot;Authorization&quot;, &quot;Basic eW95b19hZG1pbjpjNG5lZmllbGQ=&quot;);</div><div class="line">ds_map_add(map, &quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&quot;);</div><div class="line">ds_map_add(map, &quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.57 Safari/537.36&quot;);</div><div class="line">ds_map_add(map, &quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);</div><div class="line">ds_map_add(map, &quot;Accept-Encoding&quot;, &quot;gzip,deflate,sdch&quot;);</div><div class="line">ds_map_add(map, &quot;Accept-Language&quot;, &quot;en-GB,en-US;q=0.8,en;q=0.6&quot;);</div><div class="line">ds_map_add(map, &quot;Cookie&quot;, &quot;request_method=GET; _InAppPurchases_session=69bb6ef6eec2b&quot;);</div><div class="line">var data=&quot;utf8=%E2%9C%93&amp;authenticity_token=kPmS14DcYcuKgMFZUsN3XFfj3mhs%3D&amp;product%5Bname%5D=CatchTheHaggis&amp;product%5Bproduct_id%5D=http_test&amp;commit=Create+Product&quot;;</div><div class="line">request = http_request(&quot;http:225.0.0.97:3000/products&quot;, &quot;POST&quot;, map, data);</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/08/01/DailyGML-http-func/" data-id="ck1iui8ge000t9gd5iwvzn2bo" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DailyGML-get-xxx-async" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/28/DailyGML-get-xxx-async/" class="article-date">
  <time datetime="2017-07-28T04:38:04.000Z" itemprop="datePublished">2017-07-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/28/DailyGML-get-xxx-async/">DailyGML(6)-get-xxx-async</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>从这一篇开始，将会将相近的function放在一起看。</p>
<p>get_integer_async(string, default);</p>
<p>弹出一个非阻塞的Dialog，让用户输入一个数据<br><br>arg0 - string : Dialog的提示信息<br><br>arg1 - real : 默认的数据<br><br>return - real : 获得一个async的msg id</p>
<p>这个方法会返回一个id，用这个id在Asynchronous Dialog event里面，来获取到我们实际填写的信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">// call</div><div class="line">msg = get_integer_async(&quot;How old are you?&quot;, 0);</div><div class="line"></div><div class="line">// in event</div><div class="line">var i_d = ds_map_find_value(async_load, &quot;id&quot;);</div><div class="line">if i_d == msg</div><div class="line">   &#123;</div><div class="line">   if ds_map_find_value(async_load, &quot;status&quot;)</div><div class="line">      &#123;</div><div class="line">      global.Age = ds_map_find_value(async_load, &quot;value&quot;);</div><div class="line">      &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p>get_login_async(name, password);</p>
<p>这个和integer是类似的，不过这个方法是用来获取两个string类型的字段，分别来代表用户名和密码。</p>
<p>arg0 - string ； 默认用户名<br><br>arg1 - string ： 默认密码<br><br>return - real ： async的msg id</p>
<p>get_string_async(string, default);</p>
<p>这个和integer也是类似的，不过是获取单个string的数据</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/28/DailyGML-get-xxx-async/" data-id="ck1iui8ga000r9gd52pzszc1e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DailyGML-cloud-synchronise" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/19/DailyGML-cloud-synchronise/" class="article-date">
  <time datetime="2017-07-19T04:30:25.000Z" itemprop="datePublished">2017-07-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/19/DailyGML-cloud-synchronise/">DailyGML(5)-cloud-synchronise</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>cloud_synchronise</p>
<p>Syntax:<br><br>cloud_synchronise();</p>
<p>Returns:<br><br>Real</p>
<p>Description<br></p>
<p>This function would normally be called at the start of a new game and is used to retrieve the current status of the cloud service at game start up. The function returns a unique id value which would then be used in the Asynchronous Cloud Event to retrieve the relevant information from the ds_map that is created.</p>
<p>This function will send off to the cloud for data, which will then trigger the appropriate asynchronous event. In this event, you can check the returned async_load ds_map for the following values:</p>
<p>“status”: This holds the status code, where a negative value denotes an error, a description of which will be contained in the “errorString”. A value of 0 (or a positive value) indicates a success(see below for exact values), and the “resultString” will contain the returned data or a success message.</p>
<p>“id”: The id which was returned from the called function. If you fire off a series of cloud_ requests then you need to know which one you are getting the reply to, and so you would use this value to compare to the value you stored when you originally sent the request to find the right one.</p>
<p>“description”: The description of the last uploaded file.</p>
<p>“resultString”: This holds a string which is the data blob returned from the cloud.</p>
<p>“errorString”: returns an Error String for any error.</p>
<p>The exact meaning of the returned “status” map entry is explained in the following table:</p>
<table>
<thead>
<tr>
<th>Status Value</th>
<th>errorString / resultString</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>-1</td>
<td>errorString = “Not logged in to <service>“</service></td>
<td>You have not successfully logged in to the given Cloud Service</td>
</tr>
<tr>
<td>0</td>
<td>resultString = recovered data</td>
<td>New game data downloaded from the cloud (following a cloud_synchronise call)</td>
</tr>
<tr>
<td>1</td>
<td>resultString = “AlreadySynchronized”</td>
<td>No new data since you last called cloud_synchronise</td>
</tr>
<tr>
<td>2</td>
<td>resultString = “ConflictDeferral”</td>
<td>A conflict was encountered, but the gamer chose to ignore it</td>
</tr>
<tr>
<td>3</td>
<td>resultString = “GameUploadSuccess”</td>
<td>data from cloud_string_save or cloud_file_save was successfully uploaded to the cloud</td>
</tr>
<tr>
<td>-n</td>
<td>errorString = Description of error</td>
<td>Any other negative number means a synchronisation failure</td>
</tr>
</tbody>
</table>
<p>Extended Example:<br>This function would be called in an event like the Game Start Event or in an object that is placed in the first room of your game, with the idea being that you check the current data blob from the cloud server to see if it is up to date or not.</p>
<p>cloud_check = cloud_synchronise();</p>
<p>You would then want to check the returned ds_map in the asynchronous Cloud Event to get the status and the returned string, if there is one, with something like the following code:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">if ds_map_find_value(async_load, &quot;id&quot;) == cloud_check</div><div class="line">   &#123;</div><div class="line">   if ds_map_find_value(async_load, &quot;status&quot;) &lt; 0</div><div class="line">      &#123;</div><div class="line">      show_message_async(&quot;Cloud Services not available. Please check connectivity.&quot;);</div><div class="line">      &#125;</div><div class="line">   else</div><div class="line">      &#123;</div><div class="line">      if ds_map_find_value(async_load, &quot;status&quot;) == 0</div><div class="line">         &#123;</div><div class="line">         var file = file_text_open_write(&quot;Save.txt&quot;);</div><div class="line">         file_text_write_string(file, ds_map_find_value(async_load, &quot;resultString&quot;));</div><div class="line">         file_text_close(file);</div><div class="line">         &#125;</div><div class="line">      &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p>The above code checks to make sure that the correct asynchronous function call is being revised, then goes on to get the status of the returned cloud ds_map. if the status is a negative number, something has gone wrong and the user is informed, otherwise the code will continue and retrieve the synchronised data and write it to a text file for later use.</p>
<hr>
<p>Cloud系列的函数，在启动的一开始调用这个函数，然后拿到一个cloud_check的id，之后在Asynchronous Cloud Event中的map里的id字段，通过这个cloud_check来判断是不是我们的synchronise返回的结果。</p>
<p>之后就根据上面的status value，来判断同步的结果。</p>
<p>（大概之后会写个demo）</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/19/DailyGML-cloud-synchronise/" data-id="ck1iui8g7000o9gd5k38e9wlz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DailyGML-cloud-string-save" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/18/DailyGML-cloud-string-save/" class="article-date">
  <time datetime="2017-07-18T04:36:04.000Z" itemprop="datePublished">2017-07-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/18/DailyGML-cloud-string-save/">DailyGML(4)-cloud-string-save</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>cloud_string_save</p>
<p>Syntax:<br><br>cloud_string_save(string, description);</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>string</td>
<td>The data string to be uploaded.</td>
</tr>
</tbody>
</table>
<p>description<br><br>A brief description of the data being stored.</p>
<p>Returns:<br><br>Real</p>
<p>Description<br><br>This function will commit a string to the chosen cloud service for storage. The function will return a unique id value that should then be used in the appropriate asynchronous event to identify the ds_map that is returned as a “call back” from the cloud service. The string should contain all the information that you need to save for your game as you can only store one single “data blob” to the cloud, and running this function again will overwrite any previously stored values (as will using the cloud_file_save function). The description should be a short string of information that describes the save, eg: “Level2, Stage2”.<br>For further information on the returned asynchronous data, please see the function cloud_synchronise.</p>
<p>Example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var t_str = &quot;&quot;;</div><div class="line">for (var i = 0; i &lt; 10; i++;)</div><div class="line">   &#123;</div><div class="line">   t_str += string(global.Highscore[i]) + &quot;|&quot;</div><div class="line">   &#125;</div><div class="line">save_check = cloud_string_save(t_str, &quot;Current Highscores&quot;);</div><div class="line">var file = file_text_open_write(&quot;Highscores.txt&quot;);</div><div class="line">file_text_write_string(file, t_str);</div><div class="line">file_text_close(file);</div></pre></td></tr></table></figure></p>
<p>The above code creates a string from the values stored in the global array “Highscores” and then writes this string to the cloud service for storage, as well as writing it to a file for local storage.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/18/DailyGML-cloud-string-save/" data-id="ck1iui8g2000k9gd5g58ybr57" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-RecyclerView和ViewPager在一起使用时的自动滚动的问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/18/RecyclerView和ViewPager在一起使用时的自动滚动的问题/" class="article-date">
  <time datetime="2017-07-18T01:46:29.000Z" itemprop="datePublished">2017-07-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/18/RecyclerView和ViewPager在一起使用时的自动滚动的问题/">RecyclerView和ViewPager在一起使用时的自动滚动的问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>参考：<a href="https://stackoverflow.com/questions/37782485/android-prevent-nested-recyclerview-from-automatically-repositioning" target="_blank" rel="external">https://stackoverflow.com/questions/37782485/android-prevent-nested-recyclerview-from-automatically-repositioning</a></p>
<p>在ViewPager里面嵌套了RecyclerView，但是当我们滑动到这个Tab页的时候，这个分页自动上下滑动，来保证了recyclerView可以显示完全。</p>
<p>然而我并不想要这个特性，如何关掉？</p>
<p>根据面向stackoverflow编程的方法，在包含这个recyclerView的ParentView里面，添加了一行xml定义，来解决这个问题<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">android:descendantFocusability="blocksDescendants"</div></pre></td></tr></table></figure></p>
<p>以上</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/18/RecyclerView和ViewPager在一起使用时的自动滚动的问题/" data-id="ck1iui8g5000m9gd5jql5vtgo" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DailyGML-cloud-file-save" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/14/DailyGML-cloud-file-save/" class="article-date">
  <time datetime="2017-07-14T04:32:35.000Z" itemprop="datePublished">2017-07-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/14/DailyGML-cloud-file-save/">每天一个GML函数（3）- cloud_file_save</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Syntax:<br><br>cloud_file_save(file, description);</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>string</td>
<td>The file to be uploaded (as a string).</td>
</tr>
<tr>
<td>description</td>
<td>A brief description of the data being stored.</td>
</tr>
</tbody>
</table>
<p>Returns:<br><br>Real</p>
<p>Description<br><br>This function will commit a file to the chosen cloud service for storage. The function will return a unique id value that should then be used in the appropriate asynchronous event to identify the <code>ds_map</code> that is returned as a “call back” from the cloud service. The file should contain all the information that you need to save for your game as you can only store one single “data blob” to the cloud, and running this function again will overwrite any previously stored values (as will using the <code>cloud_string_save</code> function). The description should be a short string of information that describes the save, eg: “Level2, Stage2”.<br>For further information on the returned asynchronous data, please see the function cloud_synchronise.</p>
<p>Example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var t_str = &quot;&quot;;</div><div class="line">for (var i = 0; i &lt; 10; i++;)</div><div class="line">   &#123;</div><div class="line">   t_str += string(global.Highscore[i]) + &quot;|&quot;</div><div class="line">   &#125;</div><div class="line">var file = file_text_open_write(&quot;Highscores.txt&quot;);</div><div class="line">file_text_write_string(file, t_str);</div><div class="line">file_text_close(file);</div><div class="line">save_check = cloud_file_save(&quot;Highscores.txt&quot;, &quot;Current Highscores&quot;);</div></pre></td></tr></table></figure></p>
<p>The above code creates a string from the values stored in the global array “Highscores” and then writes this string to a file for local storage. The file is then sent to the cloud service for storage.</p>
<hr>
<p>向云端储存文件的一个函数，但是这个云端到底是在哪里，并不是很清楚…需要研究一下<br></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/14/DailyGML-cloud-file-save/" data-id="ck1iui8g0000i9gd5yx9loz3y" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DailyGML-asset-get-type" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/12/DailyGML-asset-get-type/" class="article-date">
  <time datetime="2017-07-12T04:06:47.000Z" itemprop="datePublished">2017-07-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/12/DailyGML-asset-get-type/">每天一个GML函数（2）- asset_get_type</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>asset_get_type</p>
<p>Description<br><br>With this function you can get the type of asset being referenced from its name (a string). One of the constants listed below will be returned.</p>
<p>Syntax:<br><br>asset_get_type(name);<br></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the game asset to get the type of (a string).</td>
</tr>
</tbody>
</table>
<p>Returns:<br><br>Constant<br></p>
<table>
<thead>
<tr>
<th>Constant</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>asset_object</td>
<td>The given name refers to an object.</td>
</tr>
<tr>
<td>asset_sprite</td>
<td>The given name refers to a sprite.</td>
</tr>
<tr>
<td>asset_sound</td>
<td>The given name refers to a sound.</td>
</tr>
<tr>
<td>asset_room</td>
<td>The given name refers to a room.</td>
</tr>
<tr>
<td>asset_tile</td>
<td>The given name refers to a tile set.</td>
</tr>
<tr>
<td>asset_path</td>
<td>The given name refers to a path.</td>
</tr>
<tr>
<td>asset_script</td>
<td>The given name refers to a script.</td>
</tr>
<tr>
<td>asset_font</td>
<td>The given name refers to a font.</td>
</tr>
<tr>
<td>asset_timeline</td>
<td>The given name refers to a time line.</td>
</tr>
<tr>
<td>asset_shader</td>
<td>The given name refers to a shader.</td>
</tr>
<tr>
<td>asset_unknown</td>
<td>The given name refers to an asset that either does not exist, or is not one of the above listed.</td>
</tr>
</tbody>
</table>
<p>Example:<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">if asset_get_type(&quot;pth_Path_&quot; + string(global.Game)) == asset_unknown</div><div class="line">   &#123;</div><div class="line">   show_debug_message(&quot;Path doesn&apos;t exist!!!&quot;);</div><div class="line">   &#125;</div><div class="line">else</div><div class="line">   &#123;</div><div class="line">   path_index = asset_get_index(&quot;pth_Path_&quot; + string(global.Game));</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p>The above code checks a dynamically created asset name to see if the asset is of the correct type. If it is not, then a debug message will be shown, otherwise the asset name is used to assign the asset to the instance.</p>
<hr>
<p>这个函数是根据asset的名字，来获取它的类别，返回的类型为系统提供的常量，简单易懂。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/12/DailyGML-asset-get-type/" data-id="ck1iui8fy000f9gd51sbz946j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DailyGML-asset-get-index" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/07/DailyGML-asset-get-index/" class="article-date">
  <time datetime="2017-07-07T01:32:44.000Z" itemprop="datePublished">2017-07-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/07/DailyGML-asset-get-index/">每天一个GML函数（1）- asset_get_index</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Syntax: asset_get_index(name);<br></p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the game asset to get the index of (a string).</td>
</tr>
</tbody>
</table>
<p>Returns:<br><br>Real</p>
<p>Description<br><br>You can use this function to get the unique identifying index for a game asset from its name. If the asset is not found, the function will return a value of -1, otherwise it will return the unique index id for the asset being checked. This id can then be used in other functions as you would any other index value, like the sprite_index or the path_index, for example. Please note that although this function can be used to reference assets from strings (see example below) you should always make sure that the asset exists before using it otherwise you may get errors that will crash your game.<br>NOTE: Script names will not resolve as assets on the HTML5 target platform due to obfuscation of the final code, which may cause issues and should be taken into consideration when using the function.</p>
<p>Example:<br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var obj = asset_get_index(&quot;obj_Enemy_&quot; + string(global.Level));</div><div class="line">if obj &gt; -1</div><div class="line">&#123;</div><div class="line">    instance_create_layer(random(room_width), random(room_height), obj, &quot;Enemy_Layer&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>The above code will get an object index from a string, and if that index exists, create an instance of the object in the game.</p>
<hr>
<p>在GML里面，实际上我们可以直接通过资源的名字，来访问实际资源。比如我们有一个<code>obj_Enemy</code>对象，那么我们在代码中的<code>obj_Enemy</code>，实际上就直接转换成了具体的资源ID。<br><br>那这个函数到底有啥用呢？其实就和文档中example所写的一样，如果你需要动态的获取一些资源的ID，那么这个函数就是你最好的选择。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/07/DailyGML-asset-get-index/" data-id="ck1iui8fw000d9gd52t16xm29" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-GML颜色" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/03/GML颜色/" class="article-date">
  <time datetime="2017-07-03T05:28:10.000Z" itemprop="datePublished">2017-07-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GMS2/">GMS2</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/03/GML颜色/">GML颜色</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>颜色值的常量，除了使用c_white之类的常量之外，如果想要使用16进制的颜色值，只要使用$66ccff这样的就可以了，在数字前面添加一个dollar的符号。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/03/GML颜色/" data-id="ck1iui8fu000a9gd50swqn7r1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-git问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/02/git问题/" class="article-date">
  <time datetime="2017-07-02T12:07:42.000Z" itemprop="datePublished">2017-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/02/git问题/">git 遇到fatal:multiple stage entries for merged file处理办法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>转载，最近碰到好几次这个问题了，记录一下</p>
<hr>
<p>原文：<a href="http://www.hawk007.com/index/index.php?s=/Home/Article/detail/id/62.html" target="_blank" rel="external">http://www.hawk007.com/index/index.php?s=/Home/Article/detail/id/62.html</a></p>
<p>提交代码到gitHub 的时候遇到“fatal:multiple stage entries for merged file” 提示，git status或者git add . 都无济于事。</p>
<p>fatal: multiple stage entries for merged file ‘filePath/~~~’</p>
<p>最后解决办法：[记得先备份一下]<br>rm .git/index</p>
<p>git add -A<br>git commit</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.ahayoo.com/2017/07/02/git问题/" data-id="ck1iui8fq00089gd5n9ja5t4s" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/GMS2/">GMS2</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/">Jenkins</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Jenkins/" style="font-size: 10px;">Jenkins</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/08/05/测试CloudStudio/">测试CloudStudio</a>
          </li>
        
          <li>
            <a href="/2019/05/30/ahayoo-policy/">ahayoo-policy</a>
          </li>
        
          <li>
            <a href="/2019/05/09/Flutter-FutureBuilder/">Flutter-FutureBuilder</a>
          </li>
        
          <li>
            <a href="/2019/03/07/Jenkins读取Properties文件时的编码问题/">Jenkins读取Properties文件时的编码问题</a>
          </li>
        
          <li>
            <a href="/2018/02/22/CertificatePinner与Charles抓包的问题/">证书固定、CertificatePinner与Charles抓包的问题</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 firzencode<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>